---
layout: post
title:  "CS144 Note"
date:   2021-01-29 20:08:14 +0800
categories: CS
---

半年没写博客了，终于在寒假干完了一件正事（其实暑假学的CSAPP还没写笔记），来写点笔记。

CS144就是计算机网络入门，我在大二暑假（其实是考试周）的时候读过那本top-down approach,和砖头一样厚还没咋读懂。现在大四了重新学cs144感觉学到了许多（小黄鸡表情包），原因主要有三，1.学了CSAPP。2.做了lab。（cs要做lab就像数学要做题一样是永恒的真理）。3.Stanford的教学视频蒸馏啊，果然有好老师就是好。

## Lab

由于之前看过一点书，直接上手做lab。结果意外地突然开始写c++哈哈哈，事实上我的c++虽然不能说一行代码都没写过，但要说我会我自己都不信，但由于之前读过一些介绍c++设计理念的书和lecture note，上手还挺快。

上来写lab0就犯了个很sb的错误，竟然用vector来实现bytestream。我想不出比这还傻逼的设计了。。。。直到昨晚拿deque实现一遍发现5分钟都不用。。。后面的sender，receiver没啥好说，主要是我也没咋读文档，全靠单元测试领悟tcp。而且基本上写的都很丑陋，能用状态机写的东一个if西一个if。。。

后面lab5，lab6一个写arp，一个写route的longest fit。没啥好说的，注意longest fit可以拿树写。

## 视频

视频里的内容是真的又详细又丰富，解答我的许多疑问。不过不知道为啥盯着Solomon-Reed码讲来讲去。主要讲的是：

# Package switching

Package switching 是internet盛行的一种传输方式，视频里讲了我们可以通过设计不同的队列与缓存来保证Rate和Delay的上下限（是的，能保证下限，事实上就是如果不能保证下限就连接失败。。。）。

# NATs

NATs事实上充当了一个翻译的功能，而且NATs的一系列标准保证了在NATs后面的设备大多时候能保证正常的接受包。其中介绍了一个NATs的穿透手法 hole punch（一拳把你的。。打烂）。

# Routing

Routing的内容无非就是各种算法，其中link stat algorithm是重点，如果通过单点之间的通信来保证最小代价生成树。还介绍了internet的自治系统，自治系统是人为规定了，自治系统内的路由算法是自主选择的，之间的算法称为BGP。

# Lower Layer

事实上连接层和物理层是我之前比较含兴趣的内容。视频主要讲了以太网和无线网。

对于以太网而言，我们主要使用双绞线或者光纤，使用CSMA/CD作为MAC(medium access control)，在过去使用Hub（实际上就是个Repeater）的时代，我们会通过电压之类的手段检测到同时传输，从而需要一些协议来避免碰撞。而现在使用switcher替代hub后这个协议已经用不到了。

对与无线网，主要问题是传输是无法有效的检测碰撞，从而使用的介质访问控制协议不同，主要来说，我们通常使用的是CSMA/CA，大约是通过发送数据后的ACK包来确保传输无碰撞。

## 参考内容

[cs144 course site](https://cs144.github.io/)
